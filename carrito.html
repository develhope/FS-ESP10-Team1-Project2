<!DOCTYPE html>
<html lang="en">
    <script src="carrito.js"></script>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="carrito.css">
    <link rel="stylesheet" href="navbar.css">
    <title>YourCard</title>
</head>
<body>
    <header class="navbar" id="navbar">
        <div class="navbarItems" id="navbarItems">
            <script src="navbar.js"></script>
        </div>
    </header>
    <div class="Carts">
        <h1>Your Cart</h1>
        <div>
            <table class="tablaCartas">
                <thead>
                    <tr class="encabezado">
                        <th class="tableHead">PRODUCT</th>
                        <th class="tableHead">QUANTITY</th>
                        <th class="tableHead">PRICE</th>
                        <th class="tableHead">REMOVE</th>
                    </tr>
                </thead>
                <tbody id="tablaCarrito">
                <script>
                    function comprar() {
    const datosCard = localStorage.getItem("totalProduct");
    console.log(datosCard);
    const datosCardJson = JSON.parse(datosCard);
    let imagenPrincipal = datosCardJson[0].src;
    let titulo = document.createElement("p");
    titulo.textContent = datosCardJson[0].title + ", " + datosCardJson[0].size;
   

    let tbody = document.getElementById("tablaCarrito");
    let tablaTd1 = document.createElement("td");
    let imagen = document.createElement("img");
    const fila = document.createElement("tr");
    imagen.src = imagenPrincipal;
    tablaTd1.appendChild(imagen);
    tablaTd1.appendChild(titulo);
    fila.appendChild(tablaTd1);
    tbody.appendChild(fila);

    
    const tablaTd2 = document.createElement("td");
    let cantidad = document.createElement("input");
    cantidad.type = "number";
    cantidad.min= 1;
    cantidad.max= 100;
    cantidad.id="cantidad";
    cantidad.value= datosCardJson[0].quantity;
    tablaTd2.appendChild(cantidad);
    fila.appendChild(tablaTd2);


    let tablaTd3 = document.createElement("td")
    let precio = document.createElement("p");
    precio.textContent = datosCardJson[0].price;
    tablaTd3.appendChild(precio);
    fila.appendChild(tablaTd3);
    const tablaTd4 = document.createElement("td");
    let botonBorrar = document.createElement("button");
    botonBorrar.onclick = borrar(datosCard, datosCardJson[0].id);
    let imagenBorrar = document.createElement("img");
    imagenBorrar.src = "media/cruz.png";
    botonBorrar.appendChild(imagenBorrar);
    tablaTd4.appendChild(botonBorrar);
    fila.appendChild(tablaTd4);
}
function borrar(array, id) {
    const datosCard = localStorage.getItem("totalProduct");
    const datosCardJson = JSON.parse(datosCard);
    return datosCardJson.filter(producto => producto.id !== id);
}
document.addEventListener("DOMContentLoaded", function() {
      comprar();
    });
                </script>
                </tbody>
            </table>
    </div>
    <div class="enlaces">
        <a class="enlaceCheckout" href="#checkout">Check Out<img src="media/hacia-adelante.png"></a>
        <a class="enlaceProducts" href="index.html"><img src="media/atras.png">Back To All Products</a>
    </div>
    </div>
    <footer>
        <p class="footerTexto">Built with  <img src="media/corazon.png">  by <a href="https://x.com/deepwhitman">Bilal Tahir</a></p>
    </footer>
</body>
